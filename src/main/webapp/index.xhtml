<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="jakarta.faces.facelets"
      xmlns:f="jakarta.faces.core">
    <h:head>
        <title>Penitenciaria Juiz Fontes Ibiapina</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous"/>
        <link rel="stylesheet" href="assets/css/principal.css"/>
        <link rel="stylesheet" href="assets/css/menu.css"/>
        <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels@2.2.0"></script>

    </h:head>
    <h:body>

        <div class="d-flex">
            <div class="menu">
                <ui:include src="/assets/components/menu.xhtml" />
            </div>
            <main>
                <div style="margin-top: 60px">
                    <h1 style="text-align: center;">Olá, seja bem-vindo!</h1>
                </div>
                <div style="margin-top: 60px;">              
                    <div class="d-flex justify-content-center gap-5">
                        <div>
                            <p:card class="card" style="width: 25rem; border-left: 6px solid #483D8B">
                                <f:facet name="title">
                                    <div class="d-flex justify-content-center align-items-center">
                                        <h:outputText value="Quantidade de internos" style="display: block; text-align: center;"/>
                                        <i class='pi pi-user-plus' style="font-size: 1.4rem; margin: 5px 0 0 15px; font-weight: 600"></i>
                                    </div>
                                </f:facet>

                                <p>#{internoBean.listarTodos().size()}</p>

                            </p:card>
                        </div>
                        <div>
                            <p:card class="card" style="width: 25rem; border-left: 6px solid #6495ED">
                                <f:facet name="title">
                                    <div class="d-flex justify-content-center align-items-center">
                                        <h:outputText value="Homens" style="display: block; text-align: center;"/>
                                        <i class='pi pi-mars' style="font-size: 1.4rem; margin: 5px 0 0 15px; font-weight: 600"></i>
                                    </div>
                                </f:facet>

                                <p>#{internoBean.listarPorSexoMasculino().size()}</p>

                            </p:card>
                        </div>
                        <div>
                            <p:card class="card" style="width: 25rem; border-left: 6px solid #DA70D6">
                                <f:facet name="title">
                                    <div class="d-flex justify-content-center align-items-center">
                                        <h:outputText value="Mulheres" style="display: block; text-align: center;"/>
                                        <i class='pi pi-venus' style="font-size: 1.4rem; margin: 5px 0 0 15px; font-weight: 600"></i>
                                    </div>
                                </f:facet>

                                <p>#{internoBean.listarPorSexoFeminino().size()}</p>

                            </p:card>
                        </div>
                    </div>
                    <div class="d-flex justify-content-center align-items-center gap-5" style="margin: 20px 0;">
                        <div>
                            <p:card class="card" style="width: 25rem; height: 190px; margin-bottom: 10px; border-left: 6px solid #32CD32">
                                <f:facet name="title">
                                    <div class="d-flex justify-content-center align-items-center">
                                        <h:outputText value="Visitas aprovadas" style="display: block; text-align: center;"/>
                                        <i class='pi pi-users' style="font-size: 1.4rem; margin: 5px 0 0 15px; font-weight: 600"></i>
                                    </div>
                                </f:facet>

                                <p>#{internoBean.listarPorSexoMasculino().size()}</p>

                            </p:card>
                            <p:card class="card" style="width: 25rem; height: 190px; margin-top: 20px; border-left: 6px solid #DC143C">
                                <f:facet name="title">
                                    <div class="d-flex justify-content-center align-items-center">
                                        <h:outputText value="Visitas pendentes" style="display: block; text-align: center;"/>
                                        <i class='pi pi-users' style="font-size: 1.4rem; margin: 5px 0 0 15px; font-weight: 600"></i>
                                    </div>
                                </f:facet>

                                <p>#{internoBean.listarPorSexoMasculino().size()}</p>

                            </p:card>
                        </div>
                        
                        <div class="card">
                            <p:chart style="width: 25rem; padding-bottom: 10px">
                                <f:facet name="value">
                                    {
                                    type: 'pie',
                                    data: {
                                    labels: ['Homens', 'Mulheres'],
                                    datasets: [{
                                    label: 'Quantidade',
                                    data: [#{internoBean.listarPorSexoMasculino().size()}, #{internoBean.listarPorSexoFeminino().size()}],
                                    backgroundColor: ['#87CEEB', '#DDA0DD']
                                    }]
                                    },
                                    options: {
                                    plugins: {
                                    title: {
                                    display: true,
                                    text: 'Distribuição de internos por gênero' // Aqui define o título do gráfico
                                    }
                                    }
                                    }
                                    }
                                </f:facet>
                            </p:chart>
                        </div>
                        <div class="card">
                            <p:chart style="width: 25rem; padding-bottom: 10px">
                                <f:facet name="value">
                                    {
                                    type: 'doughnut',
                                    data: {
                                    labels: ['Social', 'Infantil', 'Íntima', 'Virtual'],
                                    datasets: [{
                                    label: 'Quantidade',
                                    data: [12, 19, 20, 5],
                                    borderWidth: 1,
                                    backgroundColor: ['#FA8072', '#EEE8AA', '#D8BFD8', '#98FB98']
                                    }]
                                    },
                                    options: {
                                    plugins: {
                                    title: {
                                    display: true,
                                    text: 'Distribuição de visitante por tipo de visita' // Aqui define o título do gráfico
                                    }
                                    }
                                    }
                                    }
                                </f:facet>
                            </p:chart>
                        </div>
                    </div>
                </div>
            </main>
        </div>

    </h:body>
</html>
